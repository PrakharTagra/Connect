<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Login / Register</title>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --panel-width: 320px;
      --container-width: 1000px;
      --container-height: 620px;
      --accent: #07b0ff;
      --bg-dark: #f5f5f5;
      --card-dark: #0b1618;
    }
    *{box-sizing: border-box;}
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background-color: #f5f5f5;
      font-family: "Merriweather", serif;
      color:#fff;
      padding:20px;
      gap:20px;
    }
    .auth-container{
      width:var(--container-width);
      max-width: calc(100% - 40px);
      height:var(--container-height);
      border-radius:16px;
      overflow:hidden;
      box-shadow: 0 20px 50px rgba(2,8,10,0.6);
      display:flex;
      background: linear-gradient(90deg, rgba(10,18,19,1) 0%, rgba(6,13,14,1) 100%);
    }
    .panels-wrapper{flex:1;position:relative;overflow:hidden;}
    .panels{
      width:200%;
      height:100%;
      display:flex;
      transition: transform 700ms cubic-bezier(.2,.8,.2,1);
      transform: translateX(0);
    }
    .panel{
      width:50%;
      padding:34px 36px;
      background: linear-gradient(180deg, rgba(7,20,20,1) 0%, rgba(10,16,16,1) 100%);
      color:#fff;
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .panel h2{font-size:28px;margin:0 0 6px 0;font-weight:700;color:#fff;}
    .form{margin-top:8px;overflow-y:auto;padding-right:8px;max-height: calc(100% - 68px);}
    .form-group{margin-bottom:14px;text-align:left;}
    label{display:block;margin-bottom:8px;font-size:15px;color:#e6f3f7;}
    input, select{
      width:100%;padding:10px 12px;border-radius:8px;border:none;font-size:14px;outline:none;
      background:#ffffff;color:#0b1a1a;box-shadow: 0 2px 6px rgba(3,8,8,0.25) inset;
    }
    .submit-btn{
      width:100%;padding:12px 14px;border-radius:10px;border:none;cursor:pointer;
      background: var(--accent);color:#042026;font-size:15px;font-weight:600;margin-top:4px;
    }
    .side-panel{
      width: var(--panel-width);
      background: linear-gradient(180deg, var(--accent) 0%, #00a0ef 100%);
      display:flex;align-items:center;justify-content:center;flex-direction:column;
      padding:28px 18px;gap:18px;flex-shrink:0;
    }
    .side-panel h3{font-size:22px;margin:0;color:#fff;text-align:center;}
    .side-panel p{margin:0;text-align:center;color: rgba(255,255,255,0.95);line-height:1.4;font-size:14px;}
    .switch-btn{padding:10px 20px;border-radius:28px;border:none;background:white;color:var(--accent);cursor:pointer;font-weight:700;}
    .auth-container.register-active .panels{transform: translateX(-50%);}

    /* small responsive tweaks */
    @media (max-width:900px){
      .auth-container{flex-direction:column;height:auto;}
      .side-panel{width:100%;height:120px;order:3;}
      .panels{width:100%;transform: translateX(0);flex-direction:column;}
      .panel{width:100%;padding:20px;}
      .auth-container.register-active .panels{transform: translateX(0);}
    }
  </style>
</head>
<body>
  <div class="auth-container" id="authContainer">
    <div class="panels-wrapper">
      <div class="panels" id="panels">
        <!-- Login -->
        <section class="panel">
          <h2>Login</h2>
          <div class="form">
            <form id="loginForm" autocomplete="on">
              <div class="form-group">
                <label for="login-email">Email</label>
                <input id="login-email" type="email" placeholder="Enter your email" required>
              </div>
              <br>
              <div class="form-group">
                <label for="login-password">Password</label>
                <input id="login-password" type="password" placeholder="Enter your password" required>
              </div>
              <br>
              <button class="submit-btn" type="submit">Login</button>
              <br>
              <br>
              <div style="margin-top:16px; font-size:14px;">
                Don't have an account?
                <button type="button" class="switch-btn" id="switchToRegister">Create account</button>
              </div>
            </form>
          </div>
        </section>
        <section class="panel">
          <h2>Register</h2>
          <div class="form">
            <form id="registerForm" autocomplete="on">
              <div class="form-group">
                <label for="fullname">Full Name</label>
                <input id="fullname" type="text" placeholder="Your full name" required>
              </div>
              <div class="form-group">
                <label for="email">Email</label>
                <input id="email" type="email" placeholder="you@example.com" required>
              </div>
              <div class="form-group">
                <label for="phone">Phone</label>
                <input id="phone" type="tel" placeholder="+91 9876543210" required>
              </div>
              <div class="form-group">
                <label for="dob">Date of Birth</label>
                <input id="dob" type="date" required>
              </div>
              <div class="form-group">
                <label for="role">Registration Type</label>
                <select id="role" required>
                  <option value="" disabled selected>Select your role</option>
                  <option>Student</option>
                  <option>Alumni</option>
                  <option>Faculty</option>
                </select>
              </div>
              <div class="form-group">
                <label for="college">College</label>
                <input id="college" type="text" placeholder="Your college name" required>
              </div>
              <div class="form-group">
                <label for="state">State</label>
                <select id="state" required>
                  <option value="" disabled selected>Select your state</option>
                  <option>Andhra Pradesh</option>
                  <option>Arunachal Pradesh</option>
                  <option>Assam</option>
                  <option>Bihar</option>
                  <option>Chandigarh</option>
                  <option>Chhattisgarh</option>
                  <option>Delhi</option>
                  <option>Goa</option>
                  <option>Gujarat</option>
                  <option>Haryana</option>
                  <option>Himachal Pradesh</option>
                  <option>Jammu and Kashmir</option>
                  <option>Jharkhand</option>
                  <option>Karnataka</option>
                  <option>Kerala</option>
                  <option>Madhya Pradesh</option>
                  <option>Maharashtra</option>
                  <option>Manipur</option>
                  <option>Meghalaya</option>
                  <option>Mizoram</option>
                  <option>Nagaland</option>
                  <option>Odisha</option>
                  <option>Puducherry</option>
                  <option>Punjab</option>
                  <option>Rajasthan</option>
                  <option>Sikkim</option>
                  <option>Tamil Nadu</option>
                  <option>Telangana</option>
                  <option>Tripura</option>
                  <option>Uttar Pradesh</option>
                  <option>Uttarakhand</option>
                  <option>West Bengal</option>
                </select>
              </div>
              <div class="form-group">
                <label for="reg-pass">Password</label>
                <input id="reg-pass" type="password" placeholder="Create a password" required>
              </div>
              <button class="submit-btn" type="submit">Sign Up</button>
              <div style="margin-top:16px; font-size:14px;">
                Already registered?
                <button type="button" class="switch-btn" id="switchToLogin">Back to Login</button>
              </div>
            </form>
          </div>
        </section>
      </div>
    </div>

    <aside class="side-panel" id="sidePanel">
      <h3 id="sideTitle">Hello, Friend!</h3>
      <p id="sideDesc">Enter your personal details and start your journey with us</p>
      <button class="switch-btn" id="sideSwitch">Switch</button>
    </aside>
  </div>

  <script>
    const authContainer = document.getElementById('authContainer');
    const switchToRegister = document.getElementById('switchToRegister');
    const switchToLogin = document.getElementById('switchToLogin');
    const sideSwitch = document.getElementById('sideSwitch');
    const sideTitle = document.getElementById('sideTitle');
    const sideDesc = document.getElementById('sideDesc');

    let showingRegister = false;
    function updateSideText(){
      if(showingRegister){
        sideTitle.textContent = 'Welcome Back!';
        sideDesc.textContent  = 'To keep connected with us, please login with your personal info';
      } else {
        sideTitle.textContent = 'Hello, Friend!';
        sideDesc.textContent  = 'Enter your personal details and start your journey with us';
      }
    }
    function togglePanels(){
      showingRegister = !showingRegister;
      authContainer.classList.toggle('register-active', showingRegister);
      updateSideText();
    }
    switchToRegister.addEventListener('click', togglePanels);
    switchToLogin.addEventListener('click', togglePanels);
    sideSwitch.addEventListener('click', togglePanels);
    updateSideText();

    // Login handler
    document.getElementById("loginForm").addEventListener("submit", function(e){
      e.preventDefault();
      const email = document.getElementById("login-email").value.trim();
      // fetch existing user from localStorage (if any)
      const stored = JSON.parse(localStorage.getItem("user") || "null");
      if (stored && stored.email && stored.email.toLowerCase() === email.toLowerCase()){
        // keep stored user (login success)
        localStorage.setItem("user", JSON.stringify(stored));
      } else {
        // minimal user created on login (if not registered)
        const minimal = { name: "User", email: email, role: "Member" };
        localStorage.setItem("user", JSON.stringify(minimal));
      }
      // redirect to homepage
      window.location.href = "/";
    });

    // Register handler (store full profile)
    document.getElementById("registerForm").addEventListener("submit", function(e){
      e.preventDefault();
      const user = {
        name: document.getElementById("fullname").value.trim(),
        email: document.getElementById("email").value.trim(),
        phone: document.getElementById("phone").value.trim(),
        dob: document.getElementById("dob").value,
        role: document.getElementById("role").value,
        college: document.getElementById("college").value.trim(),
        state: document.getElementById("state").value,
        // password is stored client-side here only for demo; do NOT do this for production
        password: document.getElementById("reg-pass").value
      };
      localStorage.setItem("user", JSON.stringify(user));
      window.location.href = "/";
    });
  </script>
</body>
</html>