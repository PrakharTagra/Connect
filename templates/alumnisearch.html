<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Alumni Search Portal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body, html { margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f5f5f5; }
    .navbar { display: flex; align-items: center; justify-content: space-between; padding: 0 2%; height: 12vh; background-color: #333; color: #fff; }
    .navbar .logo img { width: 50px; height: 50px; object-fit: contain; }
    .navbar a { color: #fff; text-decoration: none; margin-left: 20px; padding: 8px 12px; border-radius: 4px; transition: 0.3s; }
    .navbar a:hover { background-color: #575757; }
    .search-box { text-align: center; padding: 1rem; }
    input { padding: 0.5rem; font-size: 1rem; width: 60%; border-radius: 8px; border: 1px solid #ccc; }
    button { padding: 0.6rem 1.2rem; font-size: 1rem; margin-left: 0.5rem; border: none; border-radius: 8px; background: #4b6cb7; color: white; cursor: pointer; }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1rem; padding: 1rem; }
    .card { background: white; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.15); padding: 1rem; transition: transform 0.2s; }
    .card:hover { transform: translateY(-4px); }
  </style>
</head>
<body>

<div class="navbar">
  <div class="logo"><img src="../static/assets/Images/log.png" alt="Logo"></div>
  <a href="/">Home</a>
  <a href="#">About</a>
  <a href="#">Services</a>
  <a href="#">Contact</a>
</div>

<div class="search-box">
  <input type="text" id="query" placeholder="Search alumni by name, domain, skill...">
  <button onclick="doSearch()">Search</button>
</div>

<div id="results" class="grid">
  {% for r in cards %}
    <div class="card">
      <h3>{{ r.Name }}</h3>
      <p><b>Domain:</b> {{ r.Domain }}</p>
      <p><b>Grad Year:</b> {{ r.Graduation_Year }}, <b>Exp:</b> {{ r.Years_of_Experience }} yrs</p>
      <p><b>Company:</b> {{ r.Current_Position }}</p>
      <a href="/profile/{{ r.id }}">View Profile →</a>
    </div>
  {% endfor %}
</div>

<script>
async function doSearch() {
  let q = document.getElementById("query").value;
  let resp = await fetch("/search?q=" + encodeURIComponent(q));
  let data = await resp.json();
  let cont = document.getElementById("results");
  cont.innerHTML = "";
  for (let r of data.results) {
    let div = document.createElement("div");
    div.className = "card";
    div.innerHTML = `
      <h3>${r.name}</h3>
      <p><b>Domain:</b> ${r.domain}</p>
      <p><b>Grad Year:</b> ${r.grad_year}, <b>Exp:</b> ${r.exp} yrs</p>
      <p><b>Company:</b> ${r.company}</p>
      <a href="/profile/${r.id}">View Profile →</a>
    `;
    cont.appendChild(div);
  }
}
</script>
</body>
</html>